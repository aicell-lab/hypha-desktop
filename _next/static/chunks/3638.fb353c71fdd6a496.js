"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3638,5653,1786],{45653:function(e,t,i){i.r(t),i.d(t,{Back:function(){return o},Down:function(){return a},Forward:function(){return s},Refresh:function(){return l},Search:function(){return p},Up:function(){return c}});var r=i(85893),n=i(67294);let o=(0,n.memo)(()=>(0,r.jsx)("svg",{viewBox:"-8 0 32 32",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M32 14v4H7.656l7.172 7.172L12 28 0 16 12 4l2.828 2.828L7.656 14H32z"})})),s=(0,n.memo)(()=>(0,r.jsx)("svg",{viewBox:"8 0 32 32",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"m20 4 12 12-12 12-2.828-2.828L24.344 18H0v-4h24.344l-7.172-7.172L20 4z"})})),l=(0,n.memo)(()=>(0,r.jsx)("svg",{viewBox:"-10 -13 52 52",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M20.266.594q2.594.703 4.75 2.195t3.711 3.531 2.414 4.516T32 16q0 2.203-.57 4.25t-1.609 3.828-2.5 3.242-3.242 2.5-3.828 1.609-4.25.57-4.25-.57-3.828-1.609-3.242-2.5-2.5-3.242-1.609-3.82T.002 16q0-2.188.578-4.25t1.648-3.883T4.83 4.554t3.453-2.555H4.002v-2h8v8h-2V3.358q-1.828.875-3.305 2.195T4.174 8.522t-1.609 3.555-.563 3.922q0 1.922.5 3.711t1.414 3.344 2.195 2.836 2.836 2.195 3.336 1.414 3.719.5q1.922 0 3.711-.5t3.344-1.414 2.836-2.195 2.195-2.836 1.414-3.336.5-3.719q0-2.344-.758-4.516T27.127 7.53t-3.242-3.086-4.148-1.93l.531-1.922z"})})),a=(0,n.memo)(({flip:e})=>{let t=(0,n.useMemo)(()=>e?{transform:"scaleY(-1)",transition:"all 0.2s"}:void 0,[e]);return(0,r.jsx)("svg",{style:t,viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"m28.109 5.453 3.781 3.766L15.999 25.11.108 9.219l3.781-3.766 12.109 12.109L28.107 5.453z"})})}),c=(0,n.memo)(()=>{let e=(0,n.useMemo)(()=>({marginTop:"-1px"}),[]);return(0,r.jsx)("svg",{style:e,viewBox:"0 -7 32 32",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"m16 0 12 12-2.828 2.828L18 7.656V32h-4V7.656l-7.172 7.172L4 12 16 0z"})})}),p=(0,n.memo)(()=>(0,r.jsx)("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M21 0q1.516 0 2.922.391T26.547 1.5t2.227 1.727 1.727 2.227 1.109 2.625.391 2.922-.391 2.922-1.109 2.625-1.727 2.227-2.227 1.727-2.625 1.109-2.922.391q-1.953 0-3.742-.656t-3.289-1.891L1.703 31.705q-.297.297-.703.297t-.703-.297T0 31.002t.297-.703l12.25-12.266q-1.234-1.5-1.891-3.289T10 11.002q0-1.516.391-2.922T11.5 5.455t1.727-2.227 2.227-1.727T18.079.392t2.922-.391zm0 20q1.859 0 3.5-.711t2.859-1.93 1.93-2.859T30 11t-.711-3.5-1.93-2.859-2.859-1.93T21 2t-3.5.711-2.859 1.93-1.93 2.859T12 11t.711 3.5 1.93 2.859 2.859 1.93T21 20z"})}))},91786:function(e,t,i){i.d(t,{UNKNOWN_ICON:function(){return r}});let r="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAB0ElEQVR42u2ZVWLbQBiEp/K6DOpb+LF4ip47oCuULpAYH3uAlcbMNOZpm0lsizWz+/3CgEc9aiuFHz9/YYVIcjAAkODcYYDoTyPQHZse7m0E49tLkid/8rz4BuD7RgFIYpW+fvmMXStJEvz+/RuvXr1KG41mVhT5RiECRMUYsUuF0Nv18+fPcXp6ktbrjSzPhRBCDxxUpVKpG+Ls7DSt1eprhwjYWwAdJQD9EGftELV2iCiHCAQMAvT04sVznJ+fpdVqNcuj1hOBJj0wCvECFxcXaeWhIuEUYFADAGZCXF5dpg/3DxmA99YIZVmGRXr58lVqi1CMER8+fOh+pkUS5XIZd7d3ylEIViI5M7wCITqa1wOAtDVPKD1A45andC1ES/N6DZCuzKsIWZr3RoikMK4jZGleD2BsntDOA74tT0gIOZrXEfJmXiti24KleBi1M09SThBIU/P6mZiW5qEXMW3NUzuMGrc8NYRssSE0hFyZVxFyLVgdIcOW51oIWZqHfj9ga15+rOLb8lIRg47m9RoQ/R+eeb0GaGleR8i15XWEqL5VFIIJ87V5u70nvrm+AUF0/8nx4ZlxgOj+9KeTk+Oz8/rrYnIYBAoWeNSj9qwWS/T9vUU9j2EAAAAASUVORK5CYII="},50207:function(e,t,i){i.d(t,{bm:function(){return s},cb:function(){return c},d2:function(){return a},fv:function(){return l},kw:function(){return d},sI:function(){return p}});var r=i(85893),n=i(67294),o=i(10508);let s=(0,n.memo)(()=>(0,r.jsx)("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M0 22v-6h6v6H0zm2-4v2h2v-2H2zm-2-4V8h6v6H0zm2-4v2h2v-2H2zM0 6V0h6v6H0zm2-4v2h2V2H2zm8 10v-2h18v2H10zm14 6v2H10v-2h14zM10 2h22v2H10V2zM0 30v-6h6v6H0zm2-4v2h2v-2H2zm8 2v-2h18v2H10z"})})),l=(0,n.memo)(()=>(0,r.jsx)("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M32 10H0V8h32v2zm0 16H0v-2h32v2zm0-8.016H0V16h32v1.984z"})})),a=(0,n.memo)(()=>(0,r.jsx)("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M28 8.578V32H2V0h17.422zM20 8h4.578L20 3.422V8zm6 22V10h-8V2H4v28h22z"})})),c=(0,n.memo)(()=>{let{colors:e}=(0,o.Fg)();return(0,r.jsx)("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M17 16h-2V0h2v16zm3.313-11.312q2.156.688 3.945 2t3.063 3.078 1.977 3.875.703 4.359q0 1.938-.5 3.727t-1.414 3.344-2.188 2.828-2.828 2.188-3.344 1.414-3.727.5-3.727-.5-3.344-1.414-2.828-2.188-2.188-2.828-1.414-3.344-.5-3.727q0-2.25.703-4.359t1.977-3.875 3.063-3.078 3.945-2l.625 1.891q-1.859.609-3.391 1.734t-2.625 2.625-1.695 3.305-.602 3.758q0 1.656.43 3.188t1.211 2.867 1.875 2.43 2.43 1.875 2.867 1.211 3.188.43 3.188-.43 2.867-1.211 2.43-1.875 1.875-2.43 1.211-2.867.43-3.188q0-1.953-.602-3.758t-1.695-3.305-2.625-2.625-3.391-1.734z",stroke:e.text,strokeWidth:"1"})})}),p=(0,n.memo)(()=>(0,r.jsx)("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M32 4v24H0V4h32zM2 6v10.578l7-6.984 10 10 4-4 7 6.984V6H2zm0 20h20.578L9 12.406l-7 7.016V26zm28 0v-.578l-7-7.016L20.406 21l5.016 5H30zm-5-14q-.406 0-.703-.297T24 11t.297-.703T25 10t.703.297T26 11t-.297.703T25 12z"})})),d=(0,n.memo)(()=>(0,r.jsx)("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"m32 24.125-8-4V24H0V8h24v3.875l8-4v16.25zM22 10H2v12h20V10zm8 1.109-6 3.016v3.75l6 3.016V11.11z"})}))},93949:function(e,t,i){i.d(t,{A4:function(){return a},VD:function(){return c},r5:function(){return p}});var r=i(1864),n=i(43950),o=i(6155),s=i(97836),l=i(6484);let a=async(e,t,i)=>{if(!e)return;let{subIcons:n,icon:a,pid:c=s.yV[0],url:p}=await new Promise(i=>{e.lstat(t,(r,n)=>{let s=!r&&!!n&&n.isDirectory(),a=(0,l.RT)(t);a&&!s?(0,o.Z7)(e,t,a,e=>i(e)):(0,o.g7)(e,e.getRootFS(),t,s,!1,e=>i(e),!1)})});if(i?.aborted)return;let d=(0,l.yk)(p);return{icon:await (0,o.kv)(e,(0,r.join)(d?s.Rm:s.Xo,`${d?new URL(p).pathname.replace("/",""):p}${s.Qy}`))||a,pid:c,subIcons:n?.includes(s.EV)?n:[],url:p||t}},c=(e,t)=>{let i=0===e.value.length,r=()=>{Object.getOwnPropertyDescriptor(Object.getPrototypeOf(e),"value")?.set?.call(e,t),e.dispatchEvent(new Event("input",{bubbles:!0}))};r(),requestAnimationFrame(()=>i&&1===t.length&&2===e.value.length&&r())},p=(e,t,i,r,o)=>o?"Nostr URI":r?"App":i?"YouTube Video":e?.isDirectory()||!t?"File folder":n.Z[t]?.type||`${t.toUpperCase().replace(".","")} File`},53638:function(e,t,i){i.r(t),i.d(t,{NO_RESULTS:function(){return _},SINGLE_LINE_HEIGHT_ADDITION:function(){return U},default:function(){return Q}});var r=i(85893),n=i(1864),o=i(10508),s=i(67294),l=i(8897),a=i(45653),c=i(6155),p=i(50207),d=i(91786),h=i(28853),x=i(97836);let u=(0,o.iv)(["@supports not selector(::-webkit-scrollbar){scrollbar-width:thin;}&::-webkit-scrollbar{width:","px;}"],x.H$);var g=i(18680);let f=o.ZP.div([""," "," background-color:rgba(20,20,20,95%);border:8px solid rgba(30,30,30,95%);border-bottom:none;box-sizing:content-box;display:flex;flex-direction:column;overflow-x:hidden;padding-top:20px;place-items:center;position:relative;scrollbar-gutter:auto;width:100%;picture{padding-bottom:18px;&:not(:first-of-type){position:absolute;img{height:64px;max-height:64px;max-width:64px;min-height:64px;min-width:64px;position:relative;width:64px;}}}h1{font-size:15px;font-weight:400;padding-bottom:7px;padding-left:12px;padding-right:12px;text-align:center;word-break:break-word;&:hover{text-decoration:underline;}}h2{font-size:13px;font-weight:300;}table{border-collapse:collapse;border-top:2px solid rgb(161,161,161);display:grid;font-size:12px;gap:10px;margin-top:15px;padding:15px 0;padding-bottom:0;width:100%;th{max-width:100px;min-width:100px;padding:10px;text-align:left;white-space:nowrap;width:100px;}td{color:rgb(208,208,208);padding-right:5px;word-break:break-all;}tr:first-child{td{text-decoration:underline;&:hover{color:#fff;}}}}ol{border-top:2px solid rgb(161,161,161);margin-bottom:7px;margin-top:15px;padding:10px 0;width:100%;li{button{color:#fff;display:flex;font-size:12px;padding:8px 18px;place-items:start;svg{fill:#fff;height:16px;margin-right:12px;width:16px;}}&:hover{background-color:rgb(42,42,42);}}}.back{border-radius:50%;display:flex;height:32px;left:6px;place-content:center;place-items:center;position:absolute;top:6px;width:32px;svg{fill:#fff;height:18px;margin-right:2px;transform:scaleX(-1);width:18px;}&:hover{background-color:rgba(255,255,255,20%);}}"],(0,g.Z)(x.H$,-2,-1),u);var m=i(93949),w=i(20063),v=i(76488),b=i(67278),j=i(46581),z=i(6484),y=i(99545),k=({openApp:e,setActiveItem:t,singleLineView:i,url:o})=>{let{fs:l,stat:a}=(0,w.o)(),[p,u]=(0,s.useState)(),[g,k]=(0,s.useState)({icon:d.UNKNOWN_ICON}),A=(0,n.extname)(g?.url||o),{updateRecentFiles:S}=(0,v.k)(),T=(0,s.useCallback)(()=>{e(g?.pid,{url:g?.url}),g?.url&&g?.pid&&S(g?.url,g?.pid)},[g?.pid,g?.url,e,S]),V=(0,s.useRef)(null),H=!!g?.url&&(0,z.yk)(g.url),I=!!g?.url&&g.url.startsWith("nostr:"),C=!!g?.pid&&o===g.url&&(0,n.extname)(o)===x.zm,E=p?.isDirectory()||!A&&!H&&!I,Z=H||I?o:g?.url,N=(0,s.useRef)(o),M="/"===Z?x.SP:Z?(0,n.basename)(Z,x.zm):"";return(0,s.useEffect)(()=>{a(o).then(e=>N.current===o&&u(e)),(0,m.A4)(l,o).then(e=>e&&N.current===o&&k(e))},[l,a,o]),(0,s.useEffect)(()=>{V.current?.scrollTo({behavior:"smooth",top:0}),N.current=o},[o]),g?.url&&p?(0,r.jsxs)(f,{ref:V,children:[i&&(0,r.jsx)("div",{className:"back",onClick:()=>t(""),children:(0,r.jsx)(h.UV,{})}),(0,r.jsx)(j.Z,{displaySize:64,imgSize:96,src:g?.icon}),(0,r.jsx)(y.Z,{icon:g?.icon,imgSize:64,name:M,showShortcutIcon:!1,subIcons:g?.subIcons,view:"icon"}),(0,r.jsx)("h1",{onClick:T,children:M}),(0,r.jsx)("h2",{children:(0,m.r5)(p,A,H,C,I)}),!C&&g?.url&&(0,r.jsx)("table",{children:(0,r.jsxs)("tbody",{children:[(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"Location"}),(0,r.jsx)("td",{onClick:T,children:g.url})]}),!H&&!I&&!E&&(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"Last modified"}),(0,r.jsx)("td",{children:new Date((0,c.GA)(g.url,p)).toLocaleString(x.ZW)})]})]})}),(0,r.jsxs)("ol",{children:[(0,r.jsx)("li",{children:(0,r.jsxs)(b.Z,{onClick:T,children:[(0,r.jsx)(h.UY,{}),"Open"]})}),"."!==(0,n.dirname)(Z)&&(0,r.jsx)("li",{children:(0,r.jsxs)(b.Z,{onClick:()=>e("FileExplorer",{url:(0,n.dirname)(Z)}),children:[(0,r.jsx)(h.WQ,{}),"Open ",E?"folder":"file"," location"]})})]})]}):(0,r.jsx)(r.Fragment,{children:" "})},A=i(7502),S=i(58437),T=e=>{let{contextMenu:t}=(0,A.H)(),{open:i}=(0,S.z)();return(0,s.useMemo)(()=>t?.(()=>[{SvgIcon:h.WQ,action:()=>i("FileExplorer",{url:n.dirname(e)},""),label:"Open file location"}]),[t,i,e])},V=i(78848);let H={icon:d.UNKNOWN_ICON};var I=({active:e,details:t,openApp:i,searchTerm:o,setActiveItem:l,url:a})=>{let{fs:p,readFile:d,stat:u}=(0,w.o)(),{updateRecentFiles:g}=(0,v.k)(),[f,b]=(0,s.useState)(),[k,A]=(0,s.useState)(H),S=(0,n.extname)(k?.url||a),I=(0,n.basename)(a,x.zm),C=(0,s.useMemo)(()=>{let e=I;try{e=e.replace(RegExp(`(${o})`,"i"),"<span>$1</span>")}catch{}return e},[I,o]),E=!!k?.url&&(0,z.yk)(k.url),Z=E?a:a||k?.url,N=(0,s.useMemo)(()=>f&&!f.isDirectory()?`Last modified: ${new Date((0,c.GA)(Z,f)).toLocaleString(x.ZW,{dateStyle:"short",timeStyle:"short"})}`:"",[Z,f]),[M,O]=(0,s.useState)(!1),R=(0,s.useRef)(null),L=(0,V.O)(R,".list"),$=!!k?.pid&&a===k.url&&(0,n.extname)(a)===x.zm,B=f?.isDirectory()||!S&&!E,D=!!k?.url&&k.url.startsWith("nostr:"),{onContextMenuCapture:P}=T(k?.url),q=(0,s.useRef)();return(0,s.useEffect)(()=>{let e=t||M;!f&&e&&u(a).then(b),q.current?L||(q.current.abort(),q.current=void 0):(e||L)&&k===H&&(q.current=new AbortController,(0,m.A4)(p,a,q.current.signal).then(e=>{e&&A(e),q.current=void 0}))},[t,p,M,k,L,u,f,a]),(0,s.useEffect)(()=>()=>{try{q.current?.abort()}catch{}},[]),(0,r.jsxs)("li",{ref:R,"aria-label":I,className:e?"active-item":void 0,onMouseOver:()=>!t&&O(!0),title:N?`${Z}

${N}`:Z,children:[(0,r.jsxs)("figure",{className:t?void 0:"simple",onClick:async()=>{i(k?.pid,$?void 0:{url:(0,n.extname)(Z)===x.zm&&c.OE(await d(Z))?.url||Z}),Z&&k?.pid&&g(Z,k?.pid)},onContextMenuCapture:E||D||$||B?void 0:P,children:[(0,r.jsx)(j.Z,{displaySize:t?32:16,imgSize:t?32:16,src:k?.icon}),(0,r.jsx)(y.Z,{icon:k?.icon,imgSize:t?32:16,name:C,showShortcutIcon:!1,subIcons:k?.subIcons,view:"icon"}),(0,r.jsxs)("figcaption",{children:[(0,r.jsx)("h1",{dangerouslySetInnerHTML:{__html:C}}),t&&f&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h2",{children:(0,m.r5)(f,S,E,$,D)}),!E&&!$&&!B&&(0,r.jsx)("h2",{children:N})]})]})]}),!e&&(0,r.jsx)("div",{className:"select",onClick:()=>l(a),children:(0,r.jsx)(h.UV,{})})]})};let C=o.ZP.figcaption(["font-size:13px;font-weight:600;padding-bottom:8px;padding-left:12px;padding-top:7px;&.disabled{pointer-events:none;user-select:none;}&:hover{background-color:rgba(60,60,60,95%);}"]);var E=({activeTab:e,activeItem:t,details:i,openApp:n,results:o,searchTerm:l,setActiveItem:c,changeTab:p,title:d})=>{let h=(0,s.useMemo)(()=>1===o.length&&o[0].ref===_,[o]);return 0===o.length?(0,r.jsx)(r.Fragment,{}):(0,r.jsxs)("figure",{children:[(0,r.jsx)(C,{className:e===d||"Best match"===d?"disabled":void 0,onClick:()=>p?.(d),children:d}),(0,r.jsx)("ol",{children:h?(0,r.jsxs)("li",{className:"no-results",children:[(0,r.jsx)(a.Search,{}),"No results found for '",l,"'"]}):o.map(({ref:e})=>(0,r.jsx)(I,{active:t===e,details:i,openApp:n,searchTerm:l,setActiveItem:c,url:e},e))})]})};let Z=o.ZP.figure(["ol{display:flex;flex-flow:row wrap;gap:5px;max-height:97px;overflow-y:hidden;padding-top:9px;li{background-color:rgba(60,60,60,85%);border:1px solid rgba(75,75,75,85%);border-radius:15px;display:flex;padding:4px 10px;place-content:center;place-items:center;white-space:nowrap;h2{bottom:1px;display:block;font-size:12px;font-weight:400;height:16px;max-width:235px;overflow:hidden;padding-top:1px;place-items:center;position:relative;text-overflow:ellipsis;}picture,img{height:16px;margin-right:5px;width:16px;}&:hover{background-color:rgba(80,80,80,85%);}}}"]),N=o.ZP.div(["color:#fff;display:flex;height:",";position:absolute;top:",";width:100%;.list{"," "," background-color:rgba(40,40,40,95%);overflow-y:auto;scrollbar-gutter:auto;width:100%;li{&.active-item{background-color:rgba(30,80,115,75%);}position:relative;figure{display:flex;padding:12px;padding-right:32px;picture,img{height:32px;max-height:32px;max-width:32px;min-height:32px;min-width:32px;width:32px;}figcaption{font-size:8px;margin-top:-2px;max-width:calc(100% - 26px);padding-left:8px;h1{font-size:14.5px;font-weight:400;overflow:hidden;padding-right:12px;text-overflow:ellipsis;span{font-weight:600;}}h2{font-size:13px;font-weight:300;padding-top:6px;}}&.simple{padding:10px;picture,img{height:16px;max-height:16px;max-width:16px;min-height:16px;min-width:16px;width:16px;}figcaption{h1{font-size:14px;font-weight:300;white-space:nowrap;}}}picture:not(:first-child){position:absolute;img{position:absolute;}}}div.select{border-left:1px solid transparent;display:flex;height:100%;place-content:center;place-items:center;position:absolute;right:0;top:0;width:26px;svg{fill:#fff;height:16px;width:16px;}}&:hover{background-color:rgba(100,100,100,95%);div.select{background-color:rgba(60,60,60,95%);border-left:1px solid rgba(40,40,40,95%);}figure{&:not(:hover){background-color:rgba(60,60,60,95%);}}&.active-item{background-color:rgba(16,88,145,95%);}}div.select:hover{background-color:rgba(100,100,100,95%);}}}"],({theme:e})=>`calc(100% - ${e.sizes.search.headerHeight}px - ${e.sizes.search.inputHeight}px)`,({theme:e})=>`${e.sizes.search.headerHeight}px`,(0,g.Z)(x.H$,-2,-1),u);var M=i(10403);let O=(0,o.ZP)(l.m.nav)([""," backdrop-filter:",";@keyframes fade-in{0%{opacity:0%;}100%{opacity:100%;}}.search{width:100%;input{appearance:none;border:2px solid rgb(0,120,215);border-radius:0;color:#000;font-size:15px;height:40px;padding:10px;padding-left:37px;width:100%;&::placeholder{color:#000;inset:0;left:37px;opacity:100%;overflow:visible;}&::-webkit-search-cancel-button{margin:0 0 0 8px;}}svg{bottom:12px;height:16px;left:12px;position:absolute;width:16px;z-index:2;}}.content{animation:fade-in 0.85s;height:calc(100% - 40px);.no-results{display:flex;font-size:14px;font-weight:300;padding:5px 15px;place-items:center;pointer-events:none;user-select:none;svg{fill:#fff;height:32px;margin-right:12px;width:32px;}}.tab{color:rgb(175,175,175);display:flex;flex-direction:column;height:",";place-content:center;place-items:center;position:absolute;top:",";width:100%;h1{font-size:28px;font-weight:400;padding-top:14px;}h3{font-size:14px;font-weight:400;padding-top:8px;}svg{fill:rgb(115,115,115);height:128px;width:128px;}}> nav{position:absolute;right:25px;top:15px;.close-button svg{fill:rgb(200,200,200);height:14px;&:hover{fill:#fff;}}}}> div{display:flex;flex-direction:column;height:100%;width:100%;}"],({$singleLine:e,theme:t})=>(0,M.Z)(t.sizes.search.maxHeight+(e?U:0),t.sizes.search.size,t.sizes.taskbar.button.width,!0),({theme:e})=>`blur(${e.sizes.taskbar.panelBlur})`,({theme:e})=>`calc(100% - ${e.sizes.search.headerHeight}px - ${e.sizes.search.inputHeight}px)`,({theme:e})=>`${e.sizes.search.headerHeight}px`),R=o.ZP.div([""," "," color:#fff;display:flex;height:",";overflow:hidden;place-content:space-evenly;place-items:start;position:absolute;top:",";width:100%;@media (hover:none),(pointer:coarse){overflow-y:scroll;}@supports (not (scrollbar-gutter:stable)){padding-right:","px;@supports not selector(::-webkit-scrollbar){padding-right:8px;}@media (hover:hover),(pointer:fine){&:hover{padding-right:0;}}&:hover{overflow-y:scroll;}}@supports (scrollbar-gutter:stable){&:hover{overflow-y:auto;}}figcaption{font-size:13px;font-weight:600;svg{fill:#fff;height:16px;margin-bottom:-3px;margin-right:6px;width:16px;}}figure.card{background-color:rgba(45,45,45,60%);border-radius:5px;padding:8px 12px;&:hover{box-shadow:0 3px 6px rgba(0,0,0,40%);}> figcaption{padding-left:2px;white-space:nowrap;}ol{display:flex;gap:9px;margin-top:10px;place-content:space-between;li{display:flex;flex-direction:column;max-width:80px;min-width:80px;text-align:left;img{background-color:rgba(60,60,60,85%);border-radius:5px;margin-bottom:4px;min-height:80px;min-width:80px;padding:12px;pointer-events:all;user-select:all;&:hover{background-color:rgba(16,88,145,85%);}}h4{font-size:11px;font-weight:400;padding-left:2px;}&:hover{h4{text-decoration:underline;}}}}}section{display:flex;flex-direction:column;gap:16px;padding:20px 10px 20px 24px;width:100%;&:first-child{padding-bottom:",";}}&.single-line{flex-direction:column;place-content:flex-start;figure.card{width:min-content;ol{gap:16px;}}section{padding-right:24px;&:not(:first-child){padding-top:16px;}}}"],(0,g.Z)(x.H$,-2,-1),u,({theme:e})=>`calc(100% - ${e.sizes.search.headerHeight}px - ${e.sizes.search.inputHeight}px)`,({theme:e})=>`${e.sizes.search.headerHeight}px`,x.H$,({$singleLine:e})=>e?0:void 0),L=o.ZP.ol(['display:grid;padding:9px 0 0;li{border-radius:5px;display:flex;flex-direction:column;height:51px;place-items:start;position:relative;width:100%;figure{display:flex;padding:9px 16px;place-items:center;position:relative;top:1px;figcaption{font-size:15px;font-weight:400;padding-left:12px;white-space:nowrap;}}&::before{border-top:1px solid rgba(80,80,80,55%);content:"";height:100%;position:absolute;width:100%;}&:first-child{&::before{border-top:none;}}&:hover{background-color:rgba(80,80,80,75%);&::before{border:none;}+ li{&::before{border-top:none;}}}}']),$=o.ZP.ol(["border-bottom:1px solid hsla(0,0%,13%,40%);color:#fff;display:flex;font-size:12px;font-weight:600;gap:1px;padding:2px 13px 0;position:absolute;li{color:rgb(215,215,215);padding:15px 13px 14px;&.active{border-bottom:4px solid rgb(0,120,215);color:#fff;}&:hover{color:#fff;}}"]);var B=()=>{let{sizes:{search:e}}=(0,o.Fg)(),t=`-${e.inputHeight}px`;return{animate:"active",exit:{bottom:t,position:"absolute",transition:{duration:x.Nb.TASKBAR_ITEM/10,ease:"easeIn"}},initial:"initial",transition:{duration:x.Nb.TASKBAR_ITEM/1,ease:"easeOut"},variants:{active:{bottom:0,position:"absolute"},initial:{bottom:t,position:"absolute"}}}},D=i(80155),P=i(85923),q=i(67364),F=i(37176),W=i(82883);let K=["All","Documents","Photos","Videos"],U=34,_="NO_RESULTS",Y=["FileExplorer","Terminal","Messenger","Browser","Paint"],G=["SpaceCadet","Quake3","DXBall"],X={Documents:{icon:(0,r.jsx)(p.d2,{}),subtitle:"for documents",title:"Documents"},Photos:{icon:(0,r.jsx)(p.sI,{}),title:"Photos"},Videos:{icon:(0,r.jsx)(p.kw,{}),title:"Videos"}};var Q=({toggleSearch:e})=>{let t=(0,s.useRef)(null),i=(0,s.useRef)(null),{recentFiles:p,updateRecentFiles:d}=(0,v.k)(),{lstat:u,readFile:g}=(0,w.o)(),[f,m]=(0,s.useState)("All"),{sizes:{search:y}}=(0,o.Fg)(),[A,T]=(0,s.useState)(550),V=A<550,H=(0,P.Z)(y.maxHeight+(V?U:0),!0,.1,0),I=B(),[C,M]=(0,s.useState)(!1),Q=(0,s.useCallback)(e=>{e?.focus(x.eS),setTimeout(()=>M(!0),400),t.current=e},[]),[J,ee]=(0,s.useState)(""),et=(0,W.Rx)(J),[ei,er]=(0,s.useState)(""),[en,eo]=(0,s.useState)(""),{open:es}=(0,S.z)(),[el,ea]=(0,s.useState)([]),ec=(0,s.useMemo)(()=>"All"===f?et[0]:Object.fromEntries(el)[f]?.[0],[f,et,el]),ep=(0,s.useRef)(null),ed=(0,s.useCallback)(e=>{t.current&&(t.current.value=("All"===e?t.current.value:`${e}: ${t.current.value}`).replace(`${f}: `,""),ep.current?.scrollTo(0,0)),eo(""),m(e)},[f]),eh=(0,s.useCallback)((t,i)=>{e(!1),es(t,i)},[es,e]),ex=(0,s.useRef)(0),eu=(0,s.useRef)(!1),eg=(0,s.useCallback)(()=>{eu.current||(eu.current=!0,(0,z.Q4)([W.VU,W.cM]))},[]);return(0,s.useEffect)(()=>{!ec?.ref||ei&&ei===ec?.ref&&en?!ec&&en&&eo(""):(er(ec.ref),i.current&&i.current.clientWidth>550&&eo(ec.ref))},[en,ei,ec]),(0,s.useEffect)(()=>{let e=()=>T(i.current?.clientWidth||0);return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,s.useEffect)(()=>{et.length>0?et.reduce(async(e,t)=>{let i=await e,r=(0,n.extname)(t.ref),o="";return r===x.zm?t.ref.startsWith(`${x.sC}/`)?o="Photos":t.ref.startsWith(`${x.hV}/`)?o="VideoPlayer":{pid:o}=(0,c.CK)(await u(t.ref))?(0,c.cC)(t.ref):(0,c.OE)(await g(t.ref)):o=(0,c.Wd)(r),"Photos"===o?i.Photos.push(t):"VideoPlayer"===o?i.Videos.push(t):i.Documents.push(t),i},Promise.resolve({Documents:[],Photos:[],Videos:[]})).then(e=>ea(Object.entries(e))):ea([])},[u,g,et]),(0,r.jsx)(O,{ref:i,$singleLine:V,id:"searchMenu",onBlurCapture:r=>(0,D.Oh)(r,i.current,e,t.current,D.Hr,!0),onKeyDown:({key:t})=>{"Escape"===t&&e(!1)},...H,...x.LL,children:(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"content",onContextMenu:z.nK,children:[(0,r.jsx)($,{children:K.filter(e=>!(A<325&&"Videos"===e)&&!(A<260&&"Photos"===e)).map(e=>(0,r.jsx)("li",{className:e===f?"active":void 0,onClick:()=>ed(e),...(0,z.PS)("All"===e?"Find the most relevant results":`Find results in ${e}`),children:e},e))}),(0,r.jsx)("nav",{children:(0,r.jsx)(b.Z,{className:"close-button",onClick:()=>e(!1),...(0,z.PS)("Close Search"),children:(0,r.jsx)(q.Tw,{})})}),!J&&"All"===f&&(0,r.jsxs)(R,{$singleLine:V,className:V?"single-line":void 0,children:[(0,r.jsx)("section",{children:(0,r.jsxs)("figure",{children:[(0,r.jsx)("figcaption",{children:"Suggested"}),(0,r.jsx)(L,{children:Y.map(e=>(0,r.jsx)("li",{onClick:()=>eh(e),title:F.Z[e].title,children:(0,r.jsxs)("figure",{children:[(0,r.jsx)(j.Z,{displaySize:32,imgSize:32,src:F.Z[e].icon}),(0,r.jsx)("figcaption",{children:F.Z[e].title})]})},e))})]})}),(0,r.jsxs)("section",{children:[p.length>0&&(0,r.jsxs)(Z,{children:[(0,r.jsx)("figcaption",{children:"Recent"}),(0,r.jsx)("ol",{children:p.map(([e,t,i],o)=>(0,r.jsxs)("li",{onClick:()=>{eh(t,{url:e}),0!==o&&setTimeout(()=>d(e,t,i),x.Nb.TASKBAR_ITEM*x.i2)},children:[(0,r.jsx)(j.Z,{displaySize:16,imgSize:16,src:F.Z[t]?.icon}),(0,r.jsx)("h2",{children:i||(0,n.basename)(e,(0,n.extname)(e))})]},`${e}${t}`))})]}),(0,r.jsxs)("figure",{className:"card",children:[(0,r.jsxs)("figcaption",{children:[(0,r.jsx)(h.Ox,{}),"Games for you"]}),(0,r.jsx)("ol",{children:G.filter(e=>!(A<360&&"Quake3"===e)&&!(A<260&&"SpaceCadet"===e)).map(e=>F.Z[e]&&(0,r.jsxs)("li",{onClick:()=>eh(e),title:F.Z[e].title,children:[(0,r.jsx)(j.Z,{displaySize:56,imgSize:96,src:F.Z[e].icon}),(0,r.jsx)("h4",{children:F.Z[e].title})]},e))})]})]})]}),!J&&"All"!==f&&(0,r.jsxs)("div",{className:"tab",children:[X[f].icon,(0,r.jsxs)("h1",{children:["Search ",X[f].title.toLowerCase()]}),(0,r.jsxs)("h3",{children:["Start typing to search"," ",X[f].subtitle||X[f].title.toLowerCase()]})]}),J&&(0,r.jsxs)(N,{children:[(!V||!en)&&(0,r.jsxs)("div",{ref:ep,className:"list",children:[(0,r.jsx)(E,{activeItem:en,activeTab:f,openApp:eh,results:[ec||{ref:_}],searchTerm:J,setActiveItem:eo,title:"Best match",details:!0}),et.length>1&&el.map(([e,t])=>("All"===f||f===e)&&(0,r.jsx)(E,{activeItem:en,activeTab:f,changeTab:ed,openApp:eh,results:t.filter(e=>ec!==e),searchTerm:J,setActiveItem:eo,title:e},e))]}),en&&ec&&(0,r.jsx)(k,{openApp:eh,setActiveItem:eo,singleLineView:V,url:en||ec?.ref})]})]}),(0,r.jsxs)(l.m.div,{className:"search",...I,children:[(0,r.jsx)(a.Search,{}),(0,r.jsx)("input",{ref:Q,onChange:()=>{let e="All"===f?"":`${f}: `,i=t.current?.value.startsWith(e)?t.current?.value.replace(e,""):t.current?.value;window.clearTimeout(ex.current),ex.current=window.setTimeout(()=>ee(i??""),ex.current>0?x._2:0)},onClick:eu.current?void 0:eg,onKeyDown:({key:e})=>{if(eg(),"Enter"===e&&ec?.ref){let e=i.current?.querySelector(".list li:first-child figure");e?.click()}},placeholder:"Type here to search",style:{caretColor:C?void 0:"transparent"},...W.hZ})]})]})})}},10403:function(e,t,i){var r=i(10508),n=i(97836);t.Z=(e,t,i=0,o=!1)=>(0,r.iv)(["background-color:hsla(0,0%,13%,95%);border:",";border-bottom-width:0;bottom:","px;box-shadow:3px 0 10px 3px hsla(0,0%,10%,50%);contain:strict;display:flex;height:100%;left:","px;max-height:","px;max-width:","px;position:absolute;width:calc(100% - ","px);z-index:10000;@supports ((-webkit-backdrop-filter:none) or (backdrop-filter:none)){background-color:hsla(0,0%,13%,70%);}"],o?"1px solid hsla(0, 0%, 25%, 75%)":"none",n.bK,i,e,t,i)},85923:function(e,t,i){var r=i(97836),n=i(6484);t.Z=(e,t=!0,i=.5,o=.75)=>{let s=Math.min(e,(0,n.sI)()-r.bK);return{animate:"active",exit:{height:`${s*o}px`,transition:{duration:r.Nb.TASKBAR_ITEM/10,ease:"circIn"}},initial:"initial",transition:{duration:r.Nb.TASKBAR_ITEM,ease:"circOut"},variants:{active:{height:`${s}px`,paddingTop:0},initial:{height:`${s*o}px`,paddingTop:t?`${s*i}px`:0}}}}},67364:function(e,t,i){i.d(t,{J6:function(){return l},Tw:function(){return a},bJ:function(){return s},dO:function(){return o}});var r=i(85893),n=i(67294);let o=(0,n.memo)(()=>(0,r.jsx)("svg",{viewBox:"0 0 10 1",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M0 0h10v1H0z"})})),s=(0,n.memo)(()=>(0,r.jsx)("svg",{viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M0 0v10h10V0H0zm1 1h8v8H1V1z"})})),l=(0,n.memo)(()=>(0,r.jsx)("svg",{viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M2.1 0v2H0v8.1h8.2v-2h2V0H2.1zm5.1 9.2H1.1V3h6.1v6.2zm2-2.1h-1V2H3.1V1h6.1v6.1z"})})),a=(0,n.memo)(()=>(0,r.jsx)("svg",{viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M10.2.7L9.5 0 5.1 4.4.7 0 0 .7l4.4 4.4L0 9.5l.7.7 4.4-4.4 4.4 4.4.7-.7-4.4-4.4z"})}))},82883:function(e,t,i){i.d(t,{cM:function(){return c},hZ:function(){return d},VU:function(){return p},Kk:function(){return f},Rx:function(){return m}});var r=i(1864),n=i(67294),o=i(20063),s=JSON.parse('{"I":[".cache",".json"],"K":[".md",".txt",".whtml"]}'),l=i(97836),a=i(6484);let c="/.index/search.lunr.json",p="/System/lunr/lunr.min.js",d={enterKeyHint:"search",inputMode:"search",type:"search",...l.AA},h=Object.create(null),x=[],u=async(e,t)=>{if(window.lunr||await (0,a.mb)([p]),!t&&!h?.search){let e=await fetch(c,l.P8);try{let{paths:t,...i}=JSON.parse(await e.text());h=window.lunr?.Index.load(i),x=t}catch{}}let i=t??h,r=[],n=e.trim().replace(/\./g," ").replace(/\*~\^-\+/g,"");try{r=i.search?.(n),r?.length===0&&(r=i.search?.(`${n.split(" ").join("* ")}*`))}catch{}return r?r.map(e=>({...e,ref:(Object.prototype.hasOwnProperty.call(x,e.ref)?x[e.ref]:e.ref)||""})):[]},g=async(e,t)=>{let i=t?._getFs("/")?.fs,n=i?.getOverlayedFileSystems(),o=n?.writable,l=("function"==typeof o?._cache?.map?.keys&&[...o._cache.map.keys()]||Object.keys(o?._cache?.map||{})||[]).filter(e=>{let t=(0,a.RT)(e);return!!t&&!s.I.includes(t)}),c=await Promise.all(l.map(async t=>{let i=(0,r.basename)(t,(0,r.extname)(t));return{name:i,path:t,text:s.K.includes((0,a.RT)(t))?`${i} ${(await e(t)).toString()}`:i}})),p=window.lunr?.(function(){this.ref("path"),this.field("name"),this.field("text"),c.forEach(e=>this.add(e))});return window.lunr?.Index.load(p.toJSON())},f=async(e,t,i)=>{let r=await u(e),n=await g(t,i);return[...r,...await u(e,n)].sort((e,t)=>t.score-e.score)},m=e=>{let[t,i]=(0,n.useState)([]),{readFile:r,rootFs:s}=(0,o.o)();return(0,n.useEffect)(()=>{(async()=>{e.length>0?(window.lunr||await (0,a.mb)([p]),u(e).then(i),g(r,s).then(t=>u(e,t).then(e=>i(t=>[...t,...e].sort((e,t)=>t.score-e.score))))):i([])})()},[r,s,e]),t}}}]);