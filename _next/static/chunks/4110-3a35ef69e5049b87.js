"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4110],{10393:function(e,t,n){n.d(t,{$3:function(){return l},QC:function(){return r},YH:function(){return i},dI:function(){return a},ov:function(){return o},vF:function(){return s}});let r={center:"center center",fill:"center center / cover",fit:"center center / contain",stretch:"center center / 100% 100%",tile:"50% 50%"},a={COASTAL_LANDSCAPE:()=>n.e(5522,"high").then(n.bind(n,65522)),HEXELLS:()=>n.e(3681,"high").then(n.bind(n,83681)),MATRIX:()=>n.e(6514,"high").then(n.bind(n,26514)),STABLE_DIFFUSION:()=>n.e(4268,"high").then(n.bind(n,4268)),VANTA:()=>n.e(8020,"high").then(n.bind(n,98020))},i={COASTAL_LANDSCAPE:()=>new Worker(n.tu(new URL(n.p+n.u(5183),n.b)),{name:"Wallpaper (Coastal Landscape)"}),HEXELLS:()=>new Worker(n.tu(new URL(n.p+n.u(3191),n.b)),{name:"Wallpaper (Hexells)"}),STABLE_DIFFUSION:()=>new Worker(n.tu(new URL(n.p+n.u(9629),n.b)),{name:"Wallpaper (Stable Diffusion)"}),VANTA:e=>new Worker(n.tu(new URL(n.p+n.u(1872),n.b)),{name:`Wallpaper (Vanta Waves)${e?` [${e}]`:""}`})},o=[{id:"APOD",startsWith:!0},{id:"COASTAL_LANDSCAPE",name:"Coastal Landscape"},{id:"HEXELLS",name:"Hexells"},{id:"MATRIX 2D",name:"Matrix (2D)"},{id:"MATRIX 3D",name:"Matrix (3D)"},{id:"SLIDESHOW",name:"Picture Slideshow"},{id:"STABLE_DIFFUSION",name:"Stable Diffusion (Beta)",requiresWebGPU:!0},{id:"VANTA",name:"Vanta Waves",startsWith:!0}],l=":scope > canvas",s=":scope > video"},99545:function(e,t,n){var r=n(85893),a=n(67294),i=n(10511),o=n(46581),l=n(97836);let s=(0,a.memo)(({baseIcon:e,icon:t,imgSize:n,isDesktop:s,isFirstImage:c,name:u,totalSubIcons:d,view:b})=>{let m=(0,a.useMemo)(()=>i.k[[l.MB,l.EV].includes(t)||t.startsWith("blob:")||t.startsWith(l.Xo)||t.startsWith(l.Rm)?b:"sub"],[t,b]),f=(0,a.useMemo)(()=>{if(t===l.EV)return{zIndex:3};if(e===l._l){let e=d-1>1,t=16===n,r=c&&e?t?"matrix(0.4, 0.14, 0, 0.8, -0.5, 2)":"matrix(0.4, 0.14, 0, 0.7, -4, 2)":t?"matrix(0.5, 0.05, 0, 0.8, 3.5, 2)":"matrix(0.5, 0.05, 0, 0.7, 2, 1)";return{objectFit:"cover",transform:`${r} translateZ(0px)`,zIndex:c?2:1}}},[e,t,n,c,d]);return(0,r.jsx)(o.Z,{$eager:s||t===l.MB,alt:u,src:t,style:f,...m})});t.Z=(0,a.memo)(({icon:e,imgSize:t,isDesktop:n,name:i,showShortcutIcon:o,subIcons:c,view:u})=>{let d=(0,a.useMemo)(()=>o?c?.filter(e=>e!==l.MB):c,[o,c]),b=(0,a.useMemo)(()=>d?.filter(t=>t!==e)||[],[e,d]);return(0,r.jsx)(r.Fragment,{children:b.map((a,o)=>(0,r.jsx)(s,{baseIcon:e,icon:a,imgSize:t,isDesktop:n,isFirstImage:0===o,name:i,totalSubIcons:b.length,view:u},a))})})},33975:function(e,t,n){var r=n(67294),a=n(6155),i=n(20063),o=n(18575),l=n(97836),s=n(6484);let c={icon:"",pid:"",url:""};t.Z=(e,t=!1,n=!1,u=!0)=>{let[d,b]=(0,r.useState)(c),m=(0,r.useRef)(!1),f=e=>{b(e),m.current=!1},{fs:g,rootFs:p}=(0,i.o)();return(0,r.useEffect)(()=>{if(g&&p&&!m.current&&u&&d===c){m.current=!0;let r=(0,s.RT)(e);r&&(!t||l.my.has(r)||(0,o.isMountedFolder)(p.mntMap[e]))?(0,a.Z7)(g,e,r,f):(0,a.g7)(g,p,e,t,n,f)}},[g,n,d,t,u,e,p]),[d,b]}},54110:function(e,t,n){let r,a;n.d(t,{Z:function(){return ek}});var i=n(85893),o=n(1864),l=n(67294),s=n(5152),c=n.n(s),u=n(10508),d=n(8897);let b=u.ZP.figure(["pointer-events:",";figcaption{pointer-events:none;}"],({$renaming:e})=>e?"all":void 0);var m=n(99545),f=n(43950),g=n(6155),p=n(20063),h=n(58437),v=n(37176),w=n(76488),y=n(86178),A=n(97836),x=n(6484),k=(e,t)=>{let{setForegroundId:r,updateRecentFiles:a}=(0,w.k)(),{createPath:i,updateFolder:s}=(0,p.o)(),{minimize:c,open:u,url:d}=(0,h.z)(),b=(0,y.R)();return(0,l.useCallback)(async(l,m)=>{let{preferProcessIcon:f,singleton:g,icon:p}=v.Z[l]||{},h=g?Object.keys(b.current).find(e=>e===l||e.startsWith(`${l}${A.CC}`)):"",w=e;if(e.startsWith("ipfs://")){let{getIpfsFileName:t,getIpfsResource:r}=await n.e(1746,"high").then(n.bind(n,31746)),a=await r(e);w=(0,o.join)(A.Ll,await i(await t(e,a),A.Ll,a)),s(A.Ll,(0,o.basename)(w))}h?(d(h,w),b.current[h].minimized&&c(h),r(h)):(u(l||"OpenWith",{url:w},g||m===A._l||f?p:m),w&&l&&a(w,l,(0,x.yk)(w)?(0,o.basename)(t,(0,o.extname)(t)):void 0))},[i,c,u,t,b,r,d,s,a,e])};let E=new Set([".001",".7z",".ace",".apk",".appx",".arj",".bz2",".bzip2",".cab",".chm",".chw",".cpio",".deb",".dll",".dmg",".doc",".docx",".epub",".esd",".exe",".flv",".gz",".gzip",".hfs",".hxs",".img",".ipa",".jar",".lha",".lit",".lzh",".lzma",".mbr",".msi",".ntfs",".ods",".odt",".ova",".pages",".pkg",".ppt",".qcow",".qcow2",".r00",".rar",".rpm",".squashfs",".swf",".swm",".sys",".tar",".taz",".tgz",".txz",".udf",".vdi",".vhd",".vhdx",".vmdk",".wim",".xar",".xip",".xls",".xlsx",".xpi",".xz",".z",".zipx"]);var S=n(18575),M=n(7502);let L=new Set([".aac",".aiff",".ape",".flac",".m4a",".mp3",".oga",".ogg",".wav",".wma"]),O=[".aac",".mp3",".ogg",".wav"],T=new Set([".avi",".flv",".m4v",".mkv",".mov",".mp4",".mpeg",".mpg",".ogv",".webm",".wmv"]),$=[".avi",".gif",".mkv",".mp4",".ogg",".ogv",".webm"],C=new Set([".bmp",".gif",".ico",".jpeg",".jpg",".png",".psd",".tiff",".xcf"]),D=[".bmp",".gif",".jpg",".png",".psd",".svg",".tiff"];var R=n(6460),j=n(48764).Buffer;let{alias:z}=A.PACKAGE_DATA;var F=(e,t,r,a,{archiveFiles:i,deleteLocalPath:s,downloadFiles:c,extractFiles:u,newShortcut:d},{blurEntry:b,focusEntry:m},F,W,B,Z)=>{let{minimize:P,open:I,url:H}=(0,h.z)(),U=(0,y.R)(),{setCursor:N,setForegroundId:K,setWallpaper:V,updateRecentFiles:G}=(0,w.k)(),Q=(0,o.basename)(r),X=F.includes(Q),_=k(e,r),{copyEntries:q,createPath:Y,lstat:J,mapFs:ee,moveEntries:et,readFile:en,rootFs:er,unMapFs:ea,updateFolder:ei}=(0,p.o)(),{contextMenu:eo}=(0,M.H)(),{onContextMenuCapture:el,...es}=(0,l.useMemo)(()=>eo?.(()=>{let l=x.RT(e),{process:b=[]}=l in f.Z?f.Z[l]:{},m=b.filter(e=>e!==t).filter(e=>e!==t),p=1===F.length,h=()=>p||!X?[r]:[...new Set([r,...F.map(e=>o.join(o.dirname(r),e))])],w=[],y=x.RT(r),k=y===A.zm,M=er?.mountList.some(e=>e===r&&S.isMountedFolder(er?.mntMap[e]));if(!Z&&!M){let b=g.Wd(l);if(w.push({action:()=>et(h()),label:"Cut"},{action:()=>q(h()),label:"Copy"},A.Os),(b||k||!y&&!l)&&w.push({action:()=>h().forEach(async e=>{let t=b&&!(await J(e)).isDirectory()?b:"FileExplorer";d(e,t)}),label:"Create shortcut"}),w.push({action:()=>h().forEach(e=>s(e)),label:"Delete"},{action:()=>a(Q),label:"Rename"},A.Os,{action:()=>{let t=Object.keys(U.current).find(t=>t===`Properties${A.CC}${e}`);t?(U.current[t].minimized&&P(t),K(t)):I("Properties",{shortcutPath:k?r:void 0,url:k?r:e})},label:"Properties"}),r){if(r===o.join(A.Ll,A.Bb)){if("function"==typeof FileSystemHandle){let e=(e,t)=>{ee(e,t).then(e=>{ei("/",e),I("FileExplorer",{url:o.join("/",e)})}).catch(()=>{})},t="showDirectoryPicker"in window,n="function"==typeof navigator.storage?.getDirectory&&!x.G6();w.unshift(...t?[{action:()=>e("/"),label:"Map directory"}]:[],...n?[{action:async()=>{try{e("/OPFS",await navigator.storage.getDirectory())}catch{}},label:"Map OPFS"}]:[],...t||n?[A.Os]:[])}}else{w.unshift(A.Os);let a=L.has(y),l=C.has(y),s=T.has(y);if(a||l||s){let e=a||s;w.unshift(A.Os,{label:"Convert to",menu:(e?a?O:$:D).filter(e=>e!==y).map(t=>{let a=t.replace(".","");return{action:async()=>{let t=await Promise.all(h().map(async e=>[e,await en(e)])),i=e?(await n.e(7881,"high").then(n.bind(n,67881))).transcode:(await n.e(8673,"high").then(n.bind(n,68673))).convert,l=await i(t,a);await Promise.all(l.map(async([e,t])=>{let n=o.basename(e),a=o.dirname(r);ei(a,await Y(n,a,t))}))},label:a.toUpperCase()}})})}A.Tj.includes(y)&&w.unshift(A.Os,{label:"Convert to",menu:A.Tj.filter(e=>e!==y).map(e=>{let t=e.replace(".","");return{action:()=>{h().forEach(async e=>{let a=`${o.dirname(e)}/${o.basename(e,o.extname(e))}.${t}`,{convertSheet:i}=await n.e(3751,"high").then(n.bind(n,73751)),l=await i(await en(e),t),s=o.dirname(r);ei(s,await Y(o.basename(a),s,j.from(l)))})},label:t.toUpperCase()}})}),".m3u"!==y&&A.uH.has(y)&&w.unshift(A.Os,{action:()=>{h().forEach(async e=>{let t=`${o.dirname(e)}/${o.basename(e,o.extname(e))}.m3u`,{createM3uPlaylist:a,tracksFromPlaylist:i}=await n.e(8019,"high").then(n.bind(n,8019)),l=a(await i((await en(e)).toString(),x.RT(e))),s=o.dirname(r);ei(s,await Y(o.basename(t),s,j.from(l)))})},label:"Convert to M3U"});let d="FileExplorer"===t;if(p&&!d&&!x.yk(e)){let t=o.basename(e),n={text:`${t} - ${z}`,title:t,url:`${window.location.origin}?url=${e}`};try{!er?.mountList.some(e=>"/"!==e&&r.startsWith(`${e}/`))&&g.CK(W)&&navigator.canShare?.(n)&&w.unshift({SvgIcon:R.mB,action:()=>navigator.share(n),label:"Share"})}catch{}}w.unshift({action:()=>i(h()),label:"Add to archive..."},...E.has(y)||A.my.has(y)?[{action:()=>u(r),label:"Extract Here"},A.Os]:[],{action:()=>c(h()),label:"Download"}),k||d||A.yV.forEach(e=>{e===b||m.includes(e)||m.push(e)})}}w.unshift(A.Os)}M&&w.push(A.Os,{action:()=>ea(r,er?.mntMap[r].getName()!=="FileSystemAccess"),label:"Disconnect"}),A.ru.has(l)&&w.unshift({action:()=>{I("Paint",{url:e}),e&&G(e,"Paint")},label:"Edit"});let eo=A.qy.has(y);if(A._r.has(y)&&w.unshift({action:()=>N(r),label:"Set as mouse pointer"}),(eo||A.lM.has(y)&&!A._r.has(y)&&".svg"!==y)&&w.unshift({label:"Set as background",...eo?{action:()=>V(r)}:{menu:[{action:()=>V(r,"fill"),label:"Fill"},{action:()=>V(r,"fit"),label:"Fit"},{action:()=>V(r,"stretch"),label:"Stretch"},{action:()=>V(r,"tile"),label:"Tile"},{action:()=>V(r,"center"),label:"Center"}]}}),m.length>0&&w.unshift({label:"Open with",menu:[...m.map(e=>{let{icon:t,title:n}=v.Z[e]||{};return{action:()=>{_(e,t)},icon:t,label:n}}),A.Os,{action:()=>I("OpenWith",{url:e}),label:"Choose another app"}],primary:!t}),t){let{icon:n}=v.Z[t]||{};if(k&&e&&"/"!==e&&!e.startsWith("http:")&&!e.startsWith("https:")&&!e.startsWith("nostr:")){let t=""===l||".zip"===l;w.unshift({action:()=>I("FileExplorer",{url:o.dirname(e)},""),label:`Open ${t?"folder":"file"} location`})}B&&"FileExplorer"===t&&!A.my.has(l)&&w.unshift({action:()=>{_(t,n)},label:"Open in new window"}),w.unshift({action:()=>{"FileExplorer"===t&&B&&!A.my.has(l)?H(B,e):_(t,n)},icon:n,label:"Open",primary:!0})}return w[0]===A.Os?w.slice(1):w}),[i,Q,H,eo,q,Y,s,c,u,B,F,X,J,ee,P,et,d,I,_,r,t,U,en,Z,er?.mntMap,er?.mountList,N,K,a,V,W,ea,ei,G,e]);return{onContextMenuCapture:e=>{X||(b(),m(Q)),el(e)},...es}},W=n(33975);let B=(e,t,n,r)=>{let{x:a=0,y:i=0,width:o=0,height:l=0}=n,s=new DOMRect(a,i,Number(o),Number(l));return!(e.left-t.left>=s.right||e.top-t.top>=s.bottom||e.right-t.left<=s.left||e.bottom-t.top+r<=s.top)};var Z=n(45279),P=n(10511),I=n(24645),H=n(67278),U=n(46581),N=n(76833),K=n(78848),V=n(46508),G=n(48764).Buffer;let Q=c()(()=>n.e(5653,"high").then(n.bind(n,45653)).then(e=>e.Down),{loadableGenerated:{webpack:()=>[45653]}}),X=c()(()=>n.e(1253,"high").then(n.bind(n,11253)),{loadableGenerated:{webpack:()=>[11253]}}),_=(e,t,n,r,a=!1)=>{let i=e.replace(/-/g,A.Zf),{lines:o}=(0,g.oc)(i,t,n,r);if(o.length>2){let t=a||e.includes(" ")?o.slice(0,2).join(""):o[0];return`${t.slice(0,-3).trim()}...`}return i},q=[],Y=[];var J=({fileActions:e,fileManagerId:t,fileManagerRef:n,focusedEntries:r,focusFunctions:a,hideShortcutIcon:s,isDesktop:c,isHeading:v,isLoadingFileManager:w,loadIconImmediately:y,name:E,path:S,readOnly:M,renaming:L,selectionRect:O,setRenaming:T,stats:$,hasNewFolderIcon:C,view:D})=>{let{blurEntry:R,focusEntry:j}=a,{url:z}=(0,h.z)(),J=(0,l.useRef)(null),ee=(0,K.O)(J,n,c),[{comment:et,getIcon:en,icon:er,pid:ea,subIcons:ei,url:eo},el]=(0,W.Z)(S,$.isDirectory(),C,c||ee),es=k(eo,S),{createPath:ec,exists:eu,fs:ed,mkdirRecursive:eb,pasteList:em,stat:ef,updateFolder:eg,writeFile:ep}=(0,p.o)(),[eh,ev]=(0,l.useState)(!1),{formats:ew,sizes:ey}=(0,u.Fg)(),eA="list"===D,ex=(0,o.basename)(S),eE=(0,x.RT)(eo),eS=(0,l.useMemo)(()=>(0,x.yk)(eo),[eo]),eM=(0,l.useMemo)(()=>A.lM.has(eE)||A.qy.has(eE)||eS,[eS,eE]),eL=1===r.length&&r[0]===ex,eO=(0,l.useMemo)(()=>(0,x.RT)(S),[S]),eT=(0,l.useMemo)(()=>eO===A.zm,[eO]),e$=eT?eo:S,eC=(0,Z.Z)({callback:async(e,t)=>{if(!r.includes(ex)){let n=await ec(e,e$,t);if(n)return eg(e$,n),n}return""},directory:e$}),eD="FileExplorer"===ea,eR=(0,l.useMemo)(()=>_(E,ey.fileEntry.fontSize,ew.systemFont,ey.fileEntry[eA?"maxListTextDisplayWidth":"maxIconTextDisplayWidth"],!c),[ew.systemFont,c,eA,E,ey.fileEntry]),ej=(0,l.useRef)(null),ez=(0,l.useRef)(!1),eF=(0,l.useRef)(!1),eW=(0,l.useRef)(),eB=(0,l.useCallback)(async()=>{if($.isDirectory())return"";if(eT){if(et)return et;if(eo){if(eo.startsWith("http:")||eo.startsWith("https:"))return decodeURIComponent(eo);let e=(0,o.dirname)(eo);return`Location: ${(0,o.basename)(eo,(0,o.extname)(eo))}${e&&"."!==e?` (${(0,o.dirname)(eo)})`:""}`}return""}let e=f.Z[eO]?.type||`${eO.toUpperCase().replace(".","")} File`,t=$.size===V.T?await ef(S):$,{size:n}=t,r=(0,g.GA)(S,t),a=(0,x.UR)(n),i=`Type: ${e}${"-1 bytes"===a?"":`
Size: ${a}`}`,l=new Date(r).toISOString().slice(0,10),s=new Intl.DateTimeFormat(A.ZW,ew.dateModified).format(r),c=`${l} ${s}`;return`${i}
Date modified: ${c}`},[et,eO,ew.dateModified,eT,S,ef,$,eo]),[eZ,eP]=(0,l.useState)(),eI=(0,l.useCallback)(()=>{eD&&t&&!window.globalKeyStates?.ctrlKey&&!A.my.has(eE)?(z(t,eo),R()):eD&&eA?ev(e=>!e):es(ea,eM?void 0:er)},[R,z,t,er,eM,eA,es,eD,ea,eo,eE]);return(0,l.useEffect)(()=>{w||!ee||ez.current||(async()=>{if(er.startsWith("blob:")||er.startsWith("data:")){if(er.startsWith("data:image/jpeg;base64,"))return;ez.current=!0;let e=(0,o.join)(A.Xo,`${S}${A.Qy}`);if(".ico"!==eE&&!eo.startsWith(A.OT)&&!eo.startsWith(A.P7)&&!await eu(e)&&ej.current instanceof HTMLImageElement){let t=async()=>{if(ej.current instanceof HTMLImageElement){let n=()=>(Y.shift(),Y[0]?.()),r="";if(ej.current.currentSrc.startsWith("data:image/gif;base64,"))r=ej.current.currentSrc;else{let e,n,a;let{clientHeight:i,clientWidth:o}=ej.current,{naturalHeight:l,naturalWidth:s}=ej.current,c=s/l;c!==o/i&&(s>l?e=i/c:n=o*c);let u=await (0,x.mZ)();try{a=await u?.toCanvas(ej.current,{height:e,skipAutoScale:!0,style:{objectPosition:e?"top":n?"left":void 0},width:n})}catch{}a&&(0,x.H5)(a)?r=a.toDataURL("image/png"):setTimeout(t,A.jx.WINDOW)}r&&Y.push(async()=>{let t=(0,o.dirname)(e);await eb(t);let a=G.from(r.replace(/data:.*;base64,/,""),"base64");return await ep(e,a,!0),el(e=>({...e,icon:(0,x.YS)(a)})),eg(t,(0,o.basename)(e)),n()}),1===Y.length&&await Y[0]()}};ej.current.complete?t():ej.current.addEventListener("load",t,A.K7)}}else if(!eT||"function"==typeof en||eS){if(ez.current||!ed)return;let e=await (0,g.kv)(ed,(0,o.join)(A.Xo,`${S}${A.Qy}`));e?ez.current||(ez.current=!0,el(t=>({...t,icon:e}))):!eF.current&&J.current&&"function"==typeof en&&(eW.current=new AbortController,await en(eW.current.signal),eF.current=!eW.current.signal.aborted)}})(),!ee&&eW.current&&eW.current.abort()},[eu,ed,en,er,w,eT,ee,eS,eb,S,el,eg,eo,eE,ep]),(0,l.useEffect)(()=>()=>{try{eW.current?.abort()}catch{}},[]),(0,l.useLayoutEffect)(()=>{if(J.current&&n.current){let e=r.includes(ex),t=q.includes(ex),a=e||t;if(e&&t&&q.splice(q.indexOf(ex),1),O){let e=B(J.current.getBoundingClientRect(),n.current.getBoundingClientRect(),O,n.current.scrollTop);e&&!a?(q.push(ex),j(ex),J.current.focus(A.eS)):!e&&a&&R(ex)}else a&&1===r.length&&J.current!==document.activeElement&&!J.current.contains(document.activeElement)&&J.current.focus(A.eS)}},[R,n,ex,j,r,O]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(H.Z,{ref:J,"aria-label":E,onMouseOver:()=>eB().then(eP),title:eZ,...eA&&{...A.Cz,as:d.m.button},...(0,I.Z)(eI,eA),...eD&&eC,...F(eo,ea,S,T,e,a,r,$,t,M),children:(0,i.jsxs)(b,{ref:(0,l.useCallback)(e=>{eA&&(0,x.UP)()&&(0,N.G)(e)},[eA]),$renaming:L,children:[(0,i.jsx)(U.Z,{ref:ej,$eager:y,$moving:"move"===em[S],alt:E,src:er,...P.k[D]}),(0,i.jsx)(m.Z,{icon:er,isDesktop:c,name:E,showShortcutIcon:!!(s||$.systemShortcut),subIcons:ei,view:D}),L?(0,i.jsx)(X,{isDesktop:c,name:E,path:S,renameFile:(t,n)=>{e.renameFile(t,n),T("")},setRenaming:T}):(0,i.jsx)("figcaption",{...v&&{"aria-level":1,role:"heading"},children:eL&&E.length!==eR.length?E:eR}),eA&&eD&&(0,i.jsx)(Q,{flip:eh})]})}),eh&&(0,i.jsx)(ek,{url:eo,view:"list",hideFolders:!0,hideLoading:!0,hideShortcutIcons:!0,loadIconsImmediately:!0,readOnly:!0,skipFsWatcher:!0,skipSorting:!0})]})};let ee=(0,u.vJ)(["body{pointer-events:none;}"]),et=u.ZP.span(["background-color:",";border:",";position:absolute;z-index:2;"],({theme:e})=>e.colors.selectionHighlightBackground,({theme:e})=>`1px solid ${e.colors.selectionHighlight}`);var en=e=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(ee,{}),(0,i.jsx)(et,{...e})]});let er=A.i2/60;var ea=(e,t,{blurEntry:n})=>{let[r,a]=(0,l.useState)(()=>Object.create(null)),[i,o]=(0,l.useState)(()=>Object.create(null)),{x:s,y:c}=r,{height:u,width:d}=i,b=(0,l.useRef)(),{menu:m,setMenu:f}=(0,M.H)(),g=Object.keys(m).length>0,p="number"==typeof s&&"number"==typeof c,h=()=>{o(Object.create(null)),a(Object.create(null))},v=!g&&"number"==typeof d&&"number"==typeof u&&p,w=v?{height:`${Math.abs(Number(u))}px`,transform:`translate(
            ${Number(s)+(0>Number(d)?Number(d):0)}px,
            ${Number(c)+(0>Number(u)?Number(u):0)}px)`,width:`${Math.abs(Number(d))}px`}:{};return{isSelecting:v,selectionEvents:{onMouseDown:({clientX:r,clientY:i,target:l})=>{if(l===e.current){let{scrollTop:l}=e.current,{x:s=0,y:c=0}=e.current.getBoundingClientRect();o(Object.create(null)),a({x:r-s,y:i-c+l}),m&&Object.keys(m).length>0&&f(Object.create(null)),t.length>0&&n()}},...p?{onMouseLeave:h,onMouseMove:({clientX:t,clientY:n})=>{let{scrollTop:r=0}=e.current||{},{x:a=0,y:i=0}=e.current?.getBoundingClientRect()||{};b.current||(o({height:n-i-(c||0)+r,width:t-a-(s||0)}),b.current=window.setTimeout(()=>{b.current=void 0},er))},onMouseUp:h}:{}},selectionRect:v?{...r,...i}:void 0,selectionStyling:w}},ei=(e,{focusEntry:t},r,a,i)=>{let[s,c]=(0,l.useState)(-1),{exists:u}=(0,p.o)(),{iconPositions:d,sortOrders:b,setIconPositions:m,setSortOrder:f}=(0,w.k)(),h=(0,l.useRef)(),v=(0,l.useRef)(!1),y=(0,l.useRef)({x:0,y:0}),A=(0,l.useRef)(Object.create(null)),k=({clientX:e,clientY:t})=>{A.current={...A.current,x:e,y:t}},E=r.current?.parentElement?.tagName==="MAIN",S=t=>n=>{(0,x.nK)(n),i&&e.length>0?((0,x.vi)(t,r.current,d,b,A.current,e,m,u),r.current?.removeEventListener("dragover",k)):-1!==s&&f(t,t=>{let n=t.filter(t=>!e.includes(t));return n.splice(s,0,...e),n})},M=t=>({target:n})=>{if(!i&&n instanceof HTMLLIElement){let{children:r=[]}=n.parentElement||{};c(e.includes(t)?-1:[...r].indexOf(n))}},L=(n,a,l)=>s=>{if(l){(0,x.nK)(s);return}t(a);let c=e.length<=1;if(s.nativeEvent.dataTransfer?.setData("application/json",JSON.stringify(c?[o.join(n,a)]:e.map(e=>o.join(n,e)))),c&&s.nativeEvent.dataTransfer?.setData("DownloadURL",`${g.bh(a)||"application/octet-stream"}:${a}:${window.location.href}${o.join(n,a)}`),!c&&h.current){if(!v.current){v.current=!0;let e=y.current.x||y.current.y;y.current={x:e?s.nativeEvent.clientX-y.current.x:s.nativeEvent.offsetX,y:e?s.nativeEvent.clientY-y.current.y:s.nativeEvent.offsetY+5}}s.nativeEvent.dataTransfer?.setDragImage(h.current,E?y.current.x:s.nativeEvent.offsetX,E?y.current.y:s.nativeEvent.offsetY)}Object.assign(s.dataTransfer,{effectAllowed:"move"}),i&&(A.current=e.length>1?{offsetX:s.nativeEvent.offsetX,offsetY:s.nativeEvent.offsetY}:Object.create(null),r.current?.addEventListener("dragover",k,{passive:!0}))},O=(0,l.useCallback)(async()=>{if(r.current){let e=[...r.current.querySelectorAll(".focus-within")];if(e.length>1){h.current?h.current.src="":h.current=new Image;let t=await (0,x.mZ)();if(!t)return;try{let{UNKNOWN_ICON:a}=await n.e(1786,"high").then(n.bind(n,91786)),i=e.every(({style:e})=>e?.gridRowStart&&e?.gridColumnStart),o=await t?.toCanvas(r.current,{filter:t=>!(t instanceof HTMLSourceElement)&&e.some(e=>e.contains(t)),imagePlaceholder:a,skipAutoScale:!0}),l=i?(0,x.u2)(o):o;h.current.src=l.toDataURL(),y.current={x:o.width-l.width,y:o.height-l.height}}catch{}}}},[r]);return(0,l.useEffect)(()=>{!a&&e.length>1?O():0===e.length&&(v.current=!1)},[e,a,O]),(e,t,n)=>({draggable:!0,onDragEnd:S(e),onDragOver:M(t),onDragStart:L(e,t,n),style:E?d[(0,o.join)(e,t)]:void 0})},eo=n(59746),el=n(23736),es=(e,t,n,r,{blurEntry:a,focusEntry:i},{newPath:s,pasteToFolder:c},u,d,b,m)=>{let{copyEntries:f,deletePath:g,moveEntries:v}=(0,p.o)(),{url:y}=(0,h.z)(),{openTransferDialog:k}=(0,eo.Z)(),{foregroundId:E}=(0,w.k)();return(0,l.useEffect)(()=>{let e=e=>{e.clipboardData?.files?.length&&(!E&&t===A.Ll||E===b)&&(e.stopImmediatePropagation?.(),(0,el.W)(e.clipboardData.files,t,s).then(k))};return document.addEventListener("paste",e),()=>document.removeEventListener("paste",e)},[E,b,s,k,t]),(0,l.useCallback)(l=>s=>{if("list"===m)return;let{ctrlKey:p,key:h,target:w,shiftKey:k}=s;if(!k){if(p)switch(h.toLowerCase()){case"a":if((0,x.nK)(s),w instanceof HTMLOListElement){let[e]=w.querySelectorAll("button");e?.focus(A.eS)}Object.keys(e).forEach(e=>i(e));break;case"c":(0,x.nK)(s),f(n.map(e=>(0,o.join)(t,e)));break;case"x":(0,x.nK)(s),v(n.map(e=>(0,o.join)(t,e)));break;case"v":s.stopPropagation(),c()}else switch(h){case"F2":l&&((0,x.nK)(s),r(l));break;case"F5":b&&((0,x.nK)(s),u());break;case"Delete":n.length>0&&((0,x.nK)(s),n.forEach(async e=>{let n=(0,o.join)(t,e);await g(n)&&u(void 0,n)}),a());break;case"Backspace":b&&((0,x.nK)(s),y(b,(0,o.dirname)(t)));break;case"Enter":w instanceof HTMLButtonElement&&((0,x.nK)(s),(0,x.TF)(w,2));break;default:if(h.startsWith("Arrow")){if((0,x.nK)(s),!(w instanceof HTMLElement))return;let e=w;if(!(w instanceof HTMLButtonElement)&&!(e=w.querySelector("button")))return;let{x:t,y:n,height:r,width:a}=e.getBoundingClientRect(),i="ArrowUp"===h||"ArrowDown"===h?document.elementFromPoint(t,n+("ArrowUp"===h?-r:2*r)):document.elementFromPoint(t+("ArrowLeft"===h?-a:2*a),n);if(i instanceof HTMLOListElement){let t=e.closest("li");if(t instanceof HTMLLIElement){let e=[...i.children],n=e.indexOf(t);("ArrowUp"===h||"ArrowDown"===h)&&(i=e["ArrowUp"===h?0===n?e.length-1:n-1:n===e.length-1?0:n+1].querySelector("button"))}}let o=i?.closest("button"),l=o;o instanceof HTMLButtonElement&&d.current?.contains(o)||(l=e),l?.dispatchEvent(new MouseEvent("mousedown",{bubbles:!0}))}else if(/^[\da-z]$/i.test(h)){(0,x.nK)(s);let t=Object.keys(e),r=t.indexOf(n[n.length-1]),o=h.toLowerCase(),l=h.toUpperCase(),c=[...t.slice(r),...t.slice(0,r)].find(e=>!n.includes(e)&&(e.startsWith(o)||e.startsWith(l)));c&&(a(),i(c),d.current?.querySelector(`button[aria-label='${c}']`)?.scrollIntoView())}}}},[a,y,f,g,d,e,i,n,b,v,c,r,u,t,m])},ec=e=>{let[t,n]=(0,l.useState)([]),r=(0,l.useCallback)(e=>n(e?t=>t.filter(t=>t!==e):[]),[]),a=(0,l.useCallback)(e=>n(t=>t.includes(e)?t:[...t,e]),[]),i=(0,l.useRef)(!1),o=(0,l.useCallback)(t=>{let{relatedTarget:n,target:a}=t,o=e.current===n;o&&i.current?((0,x.nK)(t),a?.focus(A.eS)):(o||e.current?.contains(n))&&n instanceof HTMLElement||r()},[r,e]),s=(0,l.useCallback)(()=>{i.current=!0,window.requestAnimationFrame(()=>{i.current=!1})},[]),c=(0,l.useRef)({x:0,y:0});return{blurEntry:r,focusEntry:a,focusableEntry:e=>{let n=t.includes(e),i=1===t.length&&t[0]===e;return{className:(0,x.Wy)({"focus-within":n,"only-focused":i}),onBlurCapture:o,onFocusCapture:s,onMouseDown:({ctrlKey:t,pageX:i,pageY:o})=>{c.current={x:i,y:o},t?n?r(e):a(e):n||(r(),a(e))},onMouseUp:({ctrlKey:t,pageX:n,pageY:o,button:l})=>{let{x:s,y:u}=c.current;t||i||0!==l||s!==n||u!==o||(r(),a(e)),c.current={x:0,y:0}}}},focusedEntries:t}},eu=n(89670),ed=n(10393),eb=n(48611),em=n(48764).Buffer;let ef=()=>window.WebampGlobal?.store.dispatch({enabled:!1,type:"SET_MILKDROP_DESKTOP"}),eg=(e,t)=>([n,r])=>[e,n===e?!r:t],ep="video/webm",eh="video/mp4",ev=2;var ew=(e,{addToFolder:t,newPath:i,pasteToFolder:s,sortByOrder:[[c,u],d]},b,m)=>{let{contextMenu:f}=(0,M.H)(),{exists:v,mapFs:k,pasteList:E={},readFile:L,rootFs:O,writeFile:T,updateFolder:$}=(0,p.o)(),{iconPositions:C,setForegroundId:D,setWallpaper:R,setIconPositions:j,sortOrders:z,updateRecentFiles:F,wallpaperImage:W}=(0,w.k)(),B=(0,l.useCallback)(e=>{if("VANTA"===e){let e=0==(ev-=1);R(`VANTA${e?" WIREFRAME":""}`),e&&(ev=2)}else ev=2,R(e)},[R]),{minimize:Z,open:P}=(0,h.z)(),I=(0,l.useCallback)((t,n)=>{j(t=>Object.fromEntries(Object.entries(t).filter(([t])=>(0,o.dirname)(t)!==e))),d(""===t?([e])=>[e,n]:eg(t,n))},[j,d,e]),H=(0,l.useMemo)(()=>b&&"function"==typeof navigator?.mediaDevices?.getDisplayMedia&&(window?.MediaRecorder?.isTypeSupported(ep)||window?.MediaRecorder?.isTypeSupported(eh)),[b]),U=(0,l.useCallback)(async()=>{if(a&&r){let{active:e}=r;try{a.requestData(),r.getTracks().forEach(e=>e.stop())}catch{}if(a=void 0,r=void 0,e)return}let e=(0,x.vU)()||(0,x.G6)(),t={video:{frameRate:30},...!e&&{preferCurrentTab:!0,selfBrowserSurface:"include",surfaceSwitching:"include",systemAudio:"include"}},[i]=(r=await navigator.mediaDevices.getDisplayMedia(t)).getVideoTracks(),{height:l,width:s}=i.getSettings(),c=MediaRecorder.isTypeSupported(ep),u=`Screen Capture ${(0,x.gE)()}.${c?"webm":"mp4"}`;a=new MediaRecorder(r,{bitsPerSecond:l&&s?l*s*30:void 0,mimeType:c?ep:eh});let d=(0,o.join)(A.Ll,u),b=Date.now(),m=!1;a.start(),a.addEventListener("dataavailable",async t=>{let{data:r}=t;if(r?.size){let t=em.from(await r.arrayBuffer());if(await T(d,m?em.concat([await L(d),t]):t,m),!c||e||a&&"inactive"!==a.state)$(A.Ll,u);else{let{default:e}=await n.e(6027,"high").then(n.t.bind(n,86027,23));e((0,x.V4)(await L(d)),Date.now()-b,async e=>{await T(d,em.from(await e.arrayBuffer()),!0),$(A.Ll,u)})}m=!0}})},[L,$,T]),N=(0,eb.Z)(),K=(0,y.R)(),V=(0,l.useCallback)((e,t)=>{if(t&&b){let{clientX:n,clientY:r}="TouchEvent"in window&&t.nativeEvent instanceof TouchEvent?t.nativeEvent.touches[0]:t.nativeEvent;(0,x.vi)(A.Ll,t.target,C,z,{x:n,y:r},e,j,v)}},[v,C,b,j,z]),G=(0,l.useCallback)(async(e,t,n)=>V([await i(e,t,"rename")],n),[i,V]);return(0,l.useMemo)(()=>f?.(n=>{let{offsetX:a,offsetY:i,target:l}=n.nativeEvent;if(!b&&!m&&a>l.clientWidth)return[{action:()=>{let e=0;if(i>l.clientHeight-17)e=l.scrollHeight;else if(i>17){let t=2*17;e=Math.round(l.scrollHeight*(i-t)/(l.clientHeight-t))}l.scrollTo({behavior:"instant",top:e})},label:"Scroll Here"},A.Os,{action:()=>{l.scrollTo({behavior:"instant",top:0})},label:"Top"},{action:()=>{l.scrollTo({behavior:"instant",top:l.scrollHeight})},label:"Bottom"},A.Os,{action:()=>{l.scrollBy({behavior:"instant",top:-l.clientHeight})},label:"Page Up"},{action:()=>{l.scrollBy({behavior:"instant",top:l.clientHeight})},label:"Page Down"},A.Os,{action:()=>{l.scrollBy({behavior:"instant",top:-44})},label:"Scroll Up"},{action:()=>{l.scrollBy({behavior:"instant",top:44})},label:"Scroll Down"}];let d=[{action:()=>t().then(e=>V(e,n)),label:"Add file(s)"},...x.df()?[{action:()=>k(e).then(t=>{V([t],n),$(e,t),P("FileExplorer",{url:o.join(e,t)})}).catch(()=>{}),label:"Map directory"}]:[]],f=document.querySelector("main .webamp-desktop canvas") instanceof HTMLCanvasElement,p=S.getMountUrl(e,O?.mntMap||{}),h=A.my.has(x.RT(e))||p&&!S.isMountedFolder(O?.mntMap[p]);return[{label:"Sort by",menu:[{action:()=>I("name",!0),label:"Name",toggle:"name"===c},{action:()=>I("size",!1),label:"Size",toggle:"size"===c},{action:()=>I("type",!0),label:"Item type",toggle:"type"===c},{action:()=>I("date",!1),label:"Date modified",toggle:"date"===c},A.Os,{action:()=>I("",!0),label:"Ascending",toggle:u},{action:()=>I("",!1),label:"Descending",toggle:!u}]},{action:()=>$(e),label:"Refresh"},...b?[A.Os,{label:"Background",menu:ed.ov.filter(({requiresWebGPU:e})=>!e||N).reduce((e,t)=>[...e,{action:()=>{f&&ef?.(),t.id&&B(t.id)},label:t.name||t.id,toggle:t.startsWith?W.startsWith(t.id):W===t.id}],f?[{action:ef,checked:!0,label:"Music Visualization"},A.Os]:[])},...H?[{action:U,label:r?.active?"Stop screen capture":"Capture screen"}]:[]]:[],...h?[]:[A.Os,...d,{action:()=>P("Terminal",{url:e}),label:"Open Terminal here"},A.Os,{action:()=>s(n),disabled:0===Object.keys(E).length,label:"Paste"},A.Os,{label:"New",menu:[{action:()=>G("New folder",void 0,n),icon:A.XN,label:"Folder"},A.Os,{action:()=>G("New Rich Text Document.whtml",em.from(""),n),icon:g.sK(".whtml"),label:"Rich Text Document"},{action:()=>G("New Text Document.txt",em.from(""),n),icon:g.sK(".txt"),label:"Text Document"}]},...b?[]:[A.Os,{action:()=>{let t=Object.keys(K.current).find(t=>t===`Properties${A.CC}${e}`);t?(K.current[t].minimized&&Z(t),D(t)):P("Properties",{url:e})},label:"Properties"}]],...b?[A.Os,{action:async()=>{if(!await v(A.AV)){let e=await fetch(document.location.href),t=em.from(await e.arrayBuffer());await T(A.AV,t),$(o.dirname(A.AV),o.basename(A.AV))}P("MonacoEditor",{url:A.AV}),A.AV&&F(A.AV,"MonacoEditor")},label:"View page source"},{action:()=>P("DevTools",{url:"dom"}),label:"Inspect"}]:[]]}),[t,H,U,f,v,N,u,b,m,k,Z,G,P,E,s,K,O?.mntMap,D,B,c,V,$,F,I,e,W,T])};let ey=c()(()=>n.e(7614,"high").then(n.bind(n,57614)),{loadableGenerated:{webpack:()=>[57614]}}),eA=c()(()=>n.e(1355,"high").then(n.bind(n,71355)),{loadableGenerated:{webpack:()=>[71355]}}),ex=c()(()=>n.e(3333,"high").then(n.bind(n,33333)),{loadableGenerated:{webpack:()=>[33333]}});var ek=(0,l.memo)(({allowMovingDraggableEntries:e,hideFolders:t,hideLoading:r,hideScrolling:a,hideShortcutIcons:s,id:c,isDesktop:u,isStartMenu:d,loadIconsImmediately:b,readOnly:m,showStatusBar:f,skipFsWatcher:g,skipSorting:h,url:v,view:w})=>{let[y,k]=(0,l.useState)(v),[E,S]=(0,l.useState)(""),[M,L]=(0,l.useState)(!1),O=(0,l.useRef)(null),{focusedEntries:T,focusableEntry:$,...C}=ec(O),{fileActions:D,files:R,folderActions:j,isLoading:z,updateFiles:F}=(0,eu.Z)(v,S,C,{hideFolders:t,hideLoading:r,skipFsWatcher:g,skipSorting:h}),{lstat:W,mountFs:B,rootFs:I}=(0,p.o)(),{StyledFileEntry:H,StyledFileManager:U}=P.c[w],{isSelecting:N,selectionRect:K,selectionStyling:V,selectionEvents:G}=ea(O,T,C),Q=ei(T,C,O,N,e),X=(0,Z.Z)({callback:j.newPath,directory:v,updatePositions:e}),_=ew(v,j,u,d),q=!r&&z||v!==y,Y=es(R,v,T,S,C,j,F,O,c,w),[ee,et]=(0,l.useState)("prompt"),er=(0,l.useRef)(!1),eo=(0,l.useMemo)(()=>""===E?Y():void 0,[Y,E]),el=(0,l.useMemo)(()=>Object.keys(R),[R]),ed=!u&&!d&&!q&&"icon"===w&&0===el.length;return(0,l.useEffect)(()=>{er.current||"granted"===ee||I?.mntMap[y]?.getName()!=="FileSystemAccess"||(er.current=!0,Promise.resolve().then(n.bind(n,18575)).then(({requestPermission:e})=>e(y).then(e=>{let t="granted"===e;(!e||t)&&(et("granted"),t&&F())}).catch(e=>{e?.message==="Permission already granted"&&et("granted")}).finally(()=>{er.current=!1})))},[y,ee,I?.mntMap,F]),(0,l.useEffect)(()=>{!M&&A.my.has((0,x.RT)(v))&&(async()=>{(await W(v)).isDirectory()||L(e=>(e||B(v).then(()=>setTimeout(F,100)).catch(()=>{}),!0))})()},[W,B,M,F,v]),(0,l.useEffect)(()=>{v!==y&&(j.resetFiles(),k(v),et("denied"))},[y,j,v]),(0,l.useEffect)(()=>{q||u||d||O.current?.focus(A.eS)},[u,d,q]),(0,i.jsxs)(i.Fragment,{children:[q?(0,i.jsx)(ex,{}):(0,i.jsxs)(i.Fragment,{children:[ed&&(0,i.jsx)(eA,{}),(0,i.jsxs)(U,{ref:O,$isEmptyFolder:ed,$scrollable:!a,onKeyDown:eo,...m?{onContextMenu:x.nK}:{$selecting:N,...X,..._,...G},...A.LL,children:[N&&(0,i.jsx)(en,{style:V}),el.map(e=>(0,i.jsx)(H,{$desktop:u,$selecting:N,$visible:!z,...!m&&Q(v,e,E===e),...""===E&&{onKeyDown:Y(e)},...$(e),children:(0,i.jsx)(J,{fileActions:D,fileManagerId:c,fileManagerRef:O,focusFunctions:C,focusedEntries:T,hasNewFolderIcon:d,hideShortcutIcon:s,isDesktop:u,isHeading:u&&R[e].systemShortcut,isLoadingFileManager:z,loadIconImmediately:b,name:(0,o.basename)(e,A.zm),path:(0,o.join)(v,e),readOnly:m,renaming:E===e,selectionRect:K,setRenaming:S,stats:R[e],view:w})},e))]})]}),f&&(0,i.jsx)(ey,{count:q?0:el.length,directory:v,fileDrop:X,selected:T})]})})},45279:function(e,t,n){var r=n(1864),a=n(67294),i=n(59746),o=n(23736),l=n(89670),s=n(20063),c=n(58437),u=n(76488),d=n(97836),b=n(6484);t.Z=({callback:e,directory:t=d.Ll,id:n,onDragLeave:m,onDragOver:f,updatePositions:g})=>{let{url:p}=(0,c.z)(),{iconPositions:h,sortOrders:v,setIconPositions:w}=(0,u.k)(),{exists:y,mkdirRecursive:A,updateFolder:x,writeFile:k}=(0,s.o)(),E=(0,a.useCallback)(async(e,t,a)=>{if(n){if(t){let i=(0,r.join)(d.Ll,e);if(await A(d.Ll),await k(i,t,!0))return a===l.v.UPDATE_URL&&p(n,i),x(d.Ll,e),(0,r.basename)(i)}else a===l.v.UPDATE_URL&&p(n,e)}return""},[n,A,x,p,k]),{openTransferDialog:S}=(0,i.Z)();return{onDragLeave:m,onDragOver:e=>{f?.(e),(0,b.nK)(e)},onDrop:a=>{if(!d.my.has((0,b.RT)(t))){if(g&&a.target instanceof HTMLElement){let{files:e,text:n}=(0,o.p4)(a);if(0===e.length&&""===n)return;let i={x:a.clientX,y:a.clientY},l=[];if(n){try{l=JSON.parse(n)}catch{}if(!Array.isArray(l))return;let[e]=l;if(!e||e.startsWith(t)&&(0,r.basename)(e)===(0,r.relative)(t,e))return;l=l.map(e=>(0,r.basename)(e))}else e instanceof FileList?l=[...e].map(e=>e.name):l=[...e].map(e=>e.getAsFile()?.name||"").filter(Boolean);l=l.map(e=>{if(!h[`${t}/${e}`])return e;let n=0,a="";do n+=1,a=`${t}/${(0,r.basename)(e,(0,r.extname)(e))} (${n})${(0,r.extname)(e)}`;while(h[a]);return(0,r.basename)(a)}),(0,b.vi)(t,a.target,h,v,i,l,w,y)}(0,o.WG)(a,e||E,t,S,!!n)}}}}},16854:function(e,t,n){let r=n(10508).ZP.li(["display:",";height:min-content;outline-offset:-2px;padding:2px;button{position:relative;figure{display:flex;flex-direction:column;margin-bottom:-2px;place-items:center;figcaption{color:",";font-size:",";line-height:1.2;margin:1px 0;padding:2px 0;text-shadow:",";word-break:break-word;}picture{height:",";width:",";&:not(:first-of-type){position:absolute;img{position:absolute;}}}}}&:hover{background-color:",";outline:",";}&.focus-within{background-color:",";outline:",";z-index:1;&.only-focused{margin-bottom:-1000px;}&:hover{background-color:",";outline:",";}}"],({$visible:e})=>e?"flex":"none",({theme:e})=>e.colors.fileEntry.text,({theme:e})=>e.sizes.fileEntry.fontSize,({$desktop:e,theme:t})=>e?t.colors.fileEntry.textShadow:void 0,({theme:e})=>e.sizes.fileEntry.iconSize,({theme:e})=>e.sizes.fileEntry.iconSize,({theme:e})=>e.colors.fileEntry.background,({$desktop:e,theme:t})=>e?`1px solid ${t.colors.fileEntry.border}`:void 0,({theme:e})=>e.colors.fileEntry.backgroundFocused,({$desktop:e,theme:t})=>e?`1px solid ${t.colors.fileEntry.borderFocused}`:void 0,({theme:e,$selecting:t})=>t?e.colors.fileEntry.backgroundFocused:e.colors.fileEntry.backgroundFocusedHover,({$desktop:e,theme:t})=>e?`1px solid ${t.colors.fileEntry.borderFocusedHover}`:void 0);t.Z=r},52547:function(e,t,n){var r=n(10508),a=n(18680),i=n(97836);let o=r.ZP.ol(["",";contain:strict;display:grid;gap:",";grid-auto-flow:row;grid-template-columns:",";grid-template-rows:",";height:100%;overflow:",";padding:",";place-content:flex-start;pointer-events:",";main > &{grid-auto-flow:column;height:calc(100% - ","px);overflow:visible;padding-bottom:21px;}"],({$scrollable:e})=>e?(0,a.Z)():void 0,({theme:e})=>`${e.sizes.fileManager.rowGap} ${e.sizes.fileManager.columnGap}`,({theme:e})=>`repeat(auto-fill, ${e.sizes.fileManager.gridEntryWidth})`,({theme:e})=>`repeat(auto-fill, ${e.sizes.fileManager.gridEntryHeight})`,({$isEmptyFolder:e,$scrollable:t})=>!e&&t?void 0:"hidden",({theme:e})=>e.sizes.fileManager.padding,({$selecting:e})=>e?"auto":void 0,i.bK);t.Z=o},73071:function(e,t,n){let r=n(10508).ZP.li(["display:flex;flex-direction:column;figure{display:flex;height:36px;padding-bottom:1px;padding-left:1px;place-items:center;figcaption{color:#fff;}picture{margin-left:3px;margin-right:8px;}svg{fill:rgb(210,210,210);height:8px;margin-left:auto;margin-right:8px;pointer-events:none;width:8px;}picture,svg{transition:margin 0.25s ease-out;}&:active{figcaption{letter-spacing:-0.15px;opacity:90%;}picture{margin-left:7px;}svg{margin-right:12px;}picture,svg{transition:none;}}@media (pointer:fine){&:hover{background-color:hsla(0,0%,35%,70%);}}@media (pointer:coarse){&:active{background-color:hsla(0,0%,35%,70%);border:1px solid hsla(0,0%,45%,70%);}}}"]);t.Z=r},8833:function(e,t,n){let r=n(10508).ZP.ol(["margin-top:7px;width:100%;picture:not(:first-of-type){position:absolute;}"]);t.Z=r},10511:function(e,t,n){n.d(t,{c:function(){return l},k:function(){return s}});var r=n(16854),a=n(52547),i=n(73071),o=n(8833);let l={icon:{StyledFileEntry:r.Z,StyledFileManager:a.Z},list:{StyledFileEntry:i.Z,StyledFileManager:o.Z}},s={icon:{imgSize:48},list:{displaySize:24,imgSize:48},sub:{displaySize:48,imgSize:16}}},24645:function(e,t,n){var r=n(67294),a=n(97836);t.Z=(e,t=!1)=>{let n=(0,r.useRef)(),i=(0,r.useRef)(0);return{onClick:(0,r.useCallback)(r=>{let o=()=>{r.stopPropagation(),e(r)},l=()=>{n.current&&(clearTimeout(n.current),n.current=void 0)},s=()=>{i.current>=12&&l(),void 0===n.current?(r.target.removeEventListener("pointermove",s),i.current=0):i.current+=1};t?o():void 0===n.current?(n.current=window.setTimeout(l,a.jx.DOUBLE_CLICK),r.target.addEventListener("pointermove",s,{passive:!0})):(l(),o())},[e,t])}}},78848:function(e,t,n){n.d(t,{O:function(){return i}});var r=n(67294),a=n(97836);let i=(e,t,n=!1)=>{let i=(0,r.useRef)(!1),[o,l]=(0,r.useState)(n);return(0,r.useEffect)(()=>{n||!e.current||i.current||(i.current=!0,new IntersectionObserver(e=>e.forEach(({isIntersecting:e})=>l(e)),{root:"object"==typeof t&&t.current||"string"==typeof t&&e.current.closest(t)||e.current.parentElement,...a.e5}).observe(e.current))},[n,e,t]),o}},48611:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(67294);let a=async()=>{let e;if("undefined"==typeof navigator||!("gpu"in navigator))return!1;try{e=await navigator.gpu.requestAdapter()}catch{return!1}return!!e&&!(1073741824>(e.limits.maxBufferSize??0)||1073741824>(e.limits.maxStorageBufferBindingSize??0)||32768>(e.limits.maxComputeWorkgroupStorageSize??0))},i=()=>{let[e,t]=(0,r.useState)(),n=(0,r.useCallback)(async()=>t(await a()),[]);return(0,r.useEffect)(()=>{n()},[n]),e}},18680:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(10508),a=n(97836);let i={dark:{active:"rgb(166, 166, 166)",blendMode:"color-burn",buttonHover:"rgb(55, 55, 55)",thumb:"rgb(77, 77, 77)",thumbHover:"rgb(122, 122, 122)",track:"rgb(23, 23, 23)"},light:{active:"rgb(96, 96, 96)",blendMode:"color-dodge",buttonHover:"rgb(218, 218, 218)",thumb:"rgb(205, 205, 205)",thumbHover:"rgb(166, 166, 166)",track:"rgb(240, 240, 240)"}};var o=(e=a.BQ,t=0,n=0,o="dark")=>(0,r.iv)(["overflow:auto;scrollbar-gutter:stable;@supports not selector(::-webkit-scrollbar){scrollbar-color:"," ",";}&::-webkit-scrollbar{height:","px;width:","px;}&::-webkit-scrollbar-corner,&::-webkit-scrollbar-track{background-color:",";}&::-webkit-scrollbar-thumb{background-clip:padding-box;background-color:",";}&::-webkit-scrollbar-thumb:vertical{background-clip:padding-box;background-color:",";border-left:1px solid transparent;border-right:1px solid transparent;}&::-webkit-scrollbar-thumb:horizontal{border-bottom:1px solid transparent;border-top:1px solid transparent;}&::-webkit-scrollbar-thumb:hover{background-color:",";}&::-webkit-scrollbar-thumb:active{background-color:",";}&::-webkit-scrollbar-button:single-button{background-clip:padding-box;background-color:",";background-position:center 4px;background-repeat:no-repeat;background-size:10px;border:1px solid ",";display:block;height:",";&:hover{background-color:",";}&:active{background-color:",";}}&::-webkit-scrollbar-button:single-button:vertical:decrement,&::-webkit-scrollbar-button:single-button:vertical:increment{background-position-x:",";background-position-y:",";background-size:16px;border-bottom:0;border-top:0;image-rendering:pixelated;}&::-webkit-scrollbar-button:single-button:vertical:decrement{background-image:url(",");}&::-webkit-scrollbar-button:single-button:vertical:increment{background-image:url(",");}&::-webkit-scrollbar-button:single-button:horizontal:decrement,&::-webkit-scrollbar-button:single-button:horizontal:increment{background-position:center;background-size:16px;border-left:0;border-right:0;image-rendering:pixelated;}&::-webkit-scrollbar-button:single-button:horizontal:decrement{background-image:url(",");}&::-webkit-scrollbar-button:single-button:horizontal:increment{background-image:url(",");}&::-webkit-scrollbar-button:single-button:vertical:decrement:active,&::-webkit-scrollbar-button:single-button:vertical:increment:active,&::-webkit-scrollbar-button:single-button:horizontal:decrement:active,&::-webkit-scrollbar-button:single-button:horizontal:increment:active{background-blend-mode:",";}"],i[o].thumb,i[o].track,e,e,i[o].track,i[o].thumb,i[o].thumb,i[o].thumbHover,i[o].active,i[o].track,i[o].track,e?`${e}px`:"initial",i[o].buttonHover,i[o].active,0===t?"center":`${t}px`,0===n?"center":`${n}px`,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAKElEQVR42mOgMRgF6enp/ynSDMMUaEZgsjST5RJsikk2AKc4bcAoAADI7y5FsB5j/QAAAABJRU5ErkJggg==","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAK0lEQVR42mOgARgF6enp/0kRZ8KvGMEnyQUwjMwn0xBMzWQZQlmA0h6MAgAuqCnfdOk/ZQAAAABJRU5ErkJggg==","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAG0lEQVR42mPAD0ZBenr6fxge4ppHuiGEwSgAAGJiLkXUVlYDAAAAAElFTkSuQmCC","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAG0lEQVR42mPADkZBenr6fxgeZoYMV82Ug1EAAPiTLkWjutmQAAAAAElFTkSuQmCC",i[o].blendMode)},76833:function(e,t,n){n.d(t,{G:function(){return i}});let r={capture:!0,passive:!0},a={capture:!1,passive:!0},i=(e,t=!1,n=1,i=!1)=>{e&&requestAnimationFrame(()=>{let o=()=>{t||(e.style.background=""),e.style.borderImage=""};if(t){let t=({clientX:a,clientY:l})=>{if(e.isConnected){let{x:t,y:r}=e.getBoundingClientRect(),o=i&&document.elementFromPoint(a,l)===e;e.style.borderImage=`radial-gradient(75px at ${a-t}px ${l-r}px, rgba(${o?"255, 255, 255, 80%":"200, 200, 200, 60%"}), transparent) 1 / ${n}px / 0 stretch`}else document.removeEventListener("mousemove",t,r),document.removeEventListener("mouseleave",o,r)};document.addEventListener("mousemove",t,r),document.addEventListener("mouseleave",o,r)}else e.addEventListener("mousemove",({offsetX:t,offsetY:r})=>{e.style.background=`radial-gradient(circle at ${t}px ${r}px, rgba(200, 200, 200, 30%), transparent)`,e.style.borderImage=`radial-gradient(75px at ${t}px ${r}px, rgba(200, 200, 200, 60%), transparent) 1 / ${n}px / 0 stretch`},a),e.addEventListener("mouseleave",o,a)})}}}]);